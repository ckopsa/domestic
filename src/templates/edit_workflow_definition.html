{% extends "base.html" %}

{% block content %}
<h1>Edit Checklist Template: {{ definition.name }}</h1>
<form action="/workflow-definitions/edit/{{ definition.id }}" method="post">
    <div>
        <label for="name">Definition Name:</label>
        <input type="text" name="name" id="name" value="{{ definition.name }}" required>
    </div>
    <div>
        <label for="description">Description:</label>
        <textarea name="description" id="description" rows="3">{{ definition.description or "" }}</textarea>
    </div>
    <div class="form-group">
        <label for="due_datetime">Suggested Due Datetime (Optional)</label>
        <input type="datetime-local" id="due_datetime" name="due_datetime" class="form-control" value="{{ definition.due_datetime.strftime('%Y-%m-%dT%H:%M') if definition and definition.due_datetime else '' }}">
    </div>
    <div>
        <label for="task_names_str">Task Names (one per line):</label>
        <textarea name="task_names_str" id="task_names_str" rows="5" placeholder="Enter one task name per line"
                  required>{{ "\n".join(definition.task_names) }}</textarea>
    </div>
    <button type="submit" class="action-button submit">Save Changes</button>
</form>
<a href="/workflow-definitions" class="back-link" style="margin-top:20px; display:inline-block;">← Back to Available
    Definitions</a>
<a href="/" class="back-link" style="margin-top:20px; display:inline-block; margin-left:15px;">← Back to Home</a>
{% endblock %}
